<Window x:Class="RAP_WPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:RAP_WPF"
        mc:Ignorable="d"
        Title="Research Assessment Program" Height="704" Width="983">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="3*"/>
            <ColumnDefinition Width="37*"/>
        </Grid.ColumnDefinitions>
        <ListBox x:Name ="PositionList" Margin="206,229,408,385" Grid.Column="1">
            <ListBox.ItemsPanel>
                <ItemsPanelTemplate>
                    <VirtualizingStackPanel IsItemsHost="True" Orientation="Horizontal"/>
                </ItemsPanelTemplate>
            </ListBox.ItemsPanel>
        </ListBox>

        <ListBox x:Name ="researcherListBox" SelectionChanged="researcherListBox_SelectionChanged"
                 d:ItemsSource="{Binding Source={StaticResource researcherList}}" Margin="0,43,689,10" ItemsSource="{Binding Mode=OneWay, Source={StaticResource researcherList}}" Grid.ColumnSpan="2"/>

        <ComboBox HorizontalAlignment="Left" Margin="66,0,0,0" VerticalAlignment="Top" Width="140"
                  ItemsSource = "{Binding Source = {StaticResource researcherLevelsList}}"
                  SelectedIndex="0" SelectionChanged="ComboBox_SelectionChanged" Height="23" Grid.Column="1"/>

        <TextBox x:Name ="searchBox" HorizontalAlignment="Left" TextWrapping="Wrap" Text="Search for researcher" VerticalAlignment="Top" Width="140" Height="23" KeyUp="searchBox_keyup" PreviewMouseLeftButtonDown="clearBox" Grid.ColumnSpan="2"/>

        <StackPanel x:Name ="ResearcherDetailsPanel" Margin="206,-8,109,0" Orientation="Vertical" Grid.Column="1">
            <StackPanel Orientation="Horizontal">
                <Label Content="Name:"></Label>
                <Label Content="{Binding Path=Given_Name}"></Label>
                <Label Content = "{Binding Path=Family_Name}"></Label>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Content="Title:"></Label>
                <Label Content="{Binding Title}"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Content="Unit:"></Label>
                <Label Content="{Binding Path=Unit}"></Label>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Content="Campus:"></Label>
                <Label Content="{Binding Path=Campus}"></Label>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Content="Email:"></Label>
                <Label Content="{Binding Path=Email}"></Label>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Content="Current Job:"></Label>
                <Label Content="{Binding Path=JobTitle }"></Label>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Content="Commenced with insitution:"></Label>
                <Label Content="{Binding Path=CommencedWithInstitution}"></Label>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Content="Commenced current job:"></Label>
                <Label Content="{Binding Path=CommencedCurrentPostion }"></Label>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Content="Previous Positions:"></Label>
            </StackPanel>
            <StackPanel Height="60"/>
            <StackPanel Orientation="Horizontal">
                <Label Content="Tenure:"/>
                <Label Content="{Binding Tenure}"/>
                <Label Content="Publications:"/>
                <Label Content="{Binding NumPublications}"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Content="Three year average:"></Label>
                <Label Content="{Binding Path=ThreeYearAverage }"></Label>
                <Label Content="Performance:"></Label>
                <Label Content="{Binding Path=Performance }"></Label>
                <Label Content="Q1 Percent:"></Label>
                <Label Content="{Binding Path=Q1Percent }"></Label>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Content="Supervisions:"></Label>
                <Label Content="{Binding Path=SupervisionsCount }"></Label>
                <Label Content="                   Performance by publication:"></Label>
                <Label Content="{Binding Path=PerformanceByPublication }"></Label>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Content="Degree:"></Label>
                <Label Content="{Binding Path=Degree }"></Label>
                <Label Content="Supervisor:"></Label>
                <Label Content="{Binding Path=Supervisor }"></Label>
                <Label Content="Performance by funding:"></Label>
                <Label Content="{Binding Path=PerformanceByFundingReceived  }"></Label>
            </StackPanel>
        </StackPanel>

        <StackPanel x:Name ="PublicationDetailsPanel" Margin="502,0,0,300" Orientation="Vertical" Grid.Column="1">
            <StackPanel Margin="0,0,0,10" Orientation="Vertical">
                <TextBlock Text="Title: "></TextBlock>
                <TextBlock TextWrapping="Wrap" Text="{Binding Path=Title }"></TextBlock>
            </StackPanel>
            <TextBlock Margin="0,0,0,10">
                <TextBlock Text="DOI:"></TextBlock>
                <TextBlock TextWrapping="Wrap" Text="{Binding Path=Doi }"></TextBlock>
            </TextBlock>
            <TextBlock Margin="0,0,0,10">
                <TextBlock Text="Publication year:"></TextBlock>
                <TextBlock TextWrapping="Wrap" Text="{Binding Path=PublicationYear }"></TextBlock>
            </TextBlock>
            <TextBlock Margin="0,0,0,10">
                <TextBlock Text="Ranking:"></TextBlock>
                <TextBlock TextWrapping="Wrap" Text="{Binding Path=Rank }"></TextBlock>
            </TextBlock>
            <TextBlock Margin="0,0,0,10">
                <TextBlock Text="Type:"></TextBlock>
                <TextBlock TextWrapping="Wrap" Text="{Binding Path=Type }"></TextBlock>
            </TextBlock>
            <StackPanel Margin="0,0,0,10" Orientation="Vertical">
                <TextBlock Text="Cite as: "></TextBlock>
                <TextBlock TextWrapping="Wrap" Text="{Binding Path=CiteAs }"></TextBlock>
            </StackPanel>
            <TextBlock Margin="0,0,0,10">
                <TextBlock Text="Availability date:"></TextBlock>
                <TextBlock TextWrapping="Wrap" Text="{Binding Path=AvailabilityDate }"></TextBlock>
            </TextBlock>
            <TextBlock Margin="0,0,0,10">
                <TextBlock Text="Age:"></TextBlock>
                <TextBlock TextWrapping="Wrap" Text="{Binding Path=Age }"></TextBlock>
            </TextBlock>
        </StackPanel>
        <Image x:Name ="image" HorizontalAlignment="Left" Height="96" Margin="389,0,0,0" VerticalAlignment="Top" Width="117" Grid.Column="1"/>

        <Button x:Name="Count" Content="Cumulative Count" HorizontalAlignment="Left" Margin="423,288,0,0" VerticalAlignment="Top" Click="getCumulativeCount" RenderTransformOrigin="0.516,0.971" Width="76" Height="15" FontSize="9" Grid.Column="1"/>

        <Button x:Name="Supervisions" Content="Show Names" HorizontalAlignment="Left" Margin="297,344,0,0" VerticalAlignment="Top" Click="getSuperVisions" RenderTransformOrigin="0.516,0.971" Width="58" Height="15" FontSize="9" Grid.Column="1"/>

        <ListBox x:Name="Publications" Grid.Column="1" Margin="206,388,0,10" SelectionChanged="publicationListBox_SelectionChanged"/>
        
        <Button Content="Generate Report" HorizontalAlignment="Left" Margin="0,23,0,0" VerticalAlignment="Top" Click="getReports"  Height="20" Width="115" Grid.ColumnSpan="2"/>
    </Grid>
</Window>
